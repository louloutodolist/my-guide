<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>To-Do Offline</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;padding:16px;background:#0b1324;color:#fff}
  h1{font-weight:700;font-size:22px;margin:0 0 12px}
  .row{display:flex;gap:8px}
  input[type=text]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #334155;background:#0f172a;color:#fff}
  button{padding:12px 14px;border:0;border-radius:10px;background:#22c55e;color:#00131f;font-weight:700}
  ul{list-style:none;margin:16px 0 0;padding:0}
  li{display:flex;justify-content:space-between;align-items:center;background:#111827;border:1px solid #374151;margin:8px 0;padding:12px;border-radius:10px}
  li.done{opacity:.6;text-decoration:line-through}
</style>
<body>
  <h1>To-Do (offline)</h1>
  <div class="row">
    <input id="task" placeholder="Add a taskâ€¦" autofocus />
    <button onclick="add()">Add</button>
  </div>
  <ul id="list"></ul>
<script>
  const KEY='todo.offline.v1';
  const listEl=document.getElementById('list');
  const taskEl=document.getElementById('task');
  let items=JSON.parse(localStorage.getItem(KEY)||'[]');
  function save(){localStorage.setItem(KEY,JSON.stringify(items));}
  function render(){
    listEl.innerHTML='';
    items.forEach((t,i)=>{
      const li=document.createElement('li');
      if(t.done) li.classList.add('done');
      li.innerHTML=`<span>${t.text}</span>
        <span>
          <button onclick="toggle(${i})">Done</button>
          <button onclick="del(${i})">Delete</button>
        </span>`;
      listEl.appendChild(li);
    });
  }
  function add(){
    const v=taskEl.value.trim();
    if(!v) return;
    items.push({text:v,done:false});
    taskEl.value='';
    save();render();
  }
  function del(i){items.splice(i,1);save();render();}
  function toggle(i){items[i].done=!items[i].done;save();render();}
  render();
</script>
</body>
</html>
